<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andreas Eich">

<title>Logger - Logger Package Test 11:00</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="floating">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Content</h2>
   
  <ul>
  <li><a href="#description" id="toc-description" class="nav-link active" data-scroll-target="#description"><span class="header-section-number">1</span> Description</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites"><span class="header-section-number">2</span> Prerequisites</a>
  <ul class="collapse">
  <li><a href="#file-export" id="toc-file-export" class="nav-link" data-scroll-target="#file-export"><span class="header-section-number">2.1</span> File Export</a></li>
  <li><a href="#logger-metadata" id="toc-logger-metadata" class="nav-link" data-scroll-target="#logger-metadata"><span class="header-section-number">2.2</span> Logger Metadata</a></li>
  </ul></li>
  <li><a href="#install-package" id="toc-install-package" class="nav-link" data-scroll-target="#install-package"><span class="header-section-number">3</span> Install Package</a></li>
  <li><a href="#use-package" id="toc-use-package" class="nav-link" data-scroll-target="#use-package"><span class="header-section-number">4</span> Use Package</a>
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">4.1</span> Summary</a></li>
  <li><a href="#load-packages" id="toc-load-packages" class="nav-link" data-scroll-target="#load-packages"><span class="header-section-number">4.2</span> Load packages</a></li>
  <li><a href="#read-logger-metadata" id="toc-read-logger-metadata" class="nav-link" data-scroll-target="#read-logger-metadata"><span class="header-section-number">4.3</span> Read Logger Metadata</a></li>
  <li><a href="#import-logger-.csv-files" id="toc-import-logger-.csv-files" class="nav-link" data-scroll-target="#import-logger-.csv-files"><span class="header-section-number">4.4</span> Import logger <code>.csv</code> files</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Logger Package Test 11:00</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andreas Eich </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">22.06.2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="description" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="description"><span class="header-section-number">1</span> Description</h2>
<p>This package helps to import Hobo logger files into R. Currenltly supported are the <em>Pendant</em> temperature and temperature and light intensity loggers and the <em>Temperature Pro V2</em>. The package can be used to combine logger data from multiple deployments at different sites and filters the data using the time of deployment and retrieval. Basic plotting allows error checking.</p>
<p>The current version of the package is 0.1 and was published on 21.06.2023.</p>
</section>
<section id="prerequisites" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="prerequisites"><span class="header-section-number">2</span> Prerequisites</h2>
<section id="file-export" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="file-export"><span class="header-section-number">2.1</span> File Export</h3>
<p>The <code>.hobo</code> files have to be exported to <code>.csv</code> using <a href="https://www.onsetcomp.com/support/help-center/software/hoboware" title="HOBOware download">HOBOware</a>. With the paid version HOBOware Pro it is possible to bulk export multiple <code>.hobo</code> files (<code>Tools</code> &gt; <code>Bulk File Export</code>) . The export settings can be changed in the HOBOware settings in the “General” tab in “Export settings” and have to be as follows:</p>
<table class="table">
<colgroup>
<col style="width: 70%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Setting</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Export file type</td>
<td><code>Text (.txt or .csv)</code></td>
</tr>
<tr class="even">
<td>Export table data column separator</td>
<td><code>Comma (,)</code></td>
</tr>
<tr class="odd">
<td>Include line number column</td>
<td><code>No</code></td>
</tr>
<tr class="even">
<td>Include plot title in header</td>
<td><code>No</code></td>
</tr>
<tr class="odd">
<td>Always show fractional seconds</td>
<td><code>No</code></td>
</tr>
<tr class="even">
<td>Separate date and time into two columns</td>
<td><code>No</code></td>
</tr>
<tr class="odd">
<td>No quotes or commas in headings, properties in parenthesis</td>
<td><code>No</code></td>
</tr>
<tr class="even">
<td>Include logger serial number</td>
<td><code>Yes</code></td>
</tr>
<tr class="odd">
<td>Include sensor serial number or label if available</td>
<td><code>Yes</code></td>
</tr>
<tr class="even">
<td>Date formal</td>
<td><code>Y M D</code></td>
</tr>
<tr class="odd">
<td>Date seperator</td>
<td><code>Dash (-)</code></td>
</tr>
<tr class="even">
<td>Time format</td>
<td><code>24-Hour</code></td>
</tr>
<tr class="odd">
<td>Positive number format</td>
<td><code>1,234.56</code></td>
</tr>
<tr class="even">
<td>Negative number format</td>
<td><code>-123</code></td>
</tr>
<tr class="odd">
<td>Include plot details in exported file</td>
<td><code>No</code></td>
</tr>
</tbody>
</table>
<p>Additionally, the computer language has to be English and HOBOware has to use SI units.</p>
<p>I store the exported <code>.csv</code> files in the RStudio project folder under <code>/data/raw_csv</code>. I recommend to also keep a copy of the original <code>.hobo</code> files, e.g.&nbsp;under <code>/data/raw_hobo</code>.</p>
</section>
<section id="logger-metadata" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="logger-metadata"><span class="header-section-number">2.2</span> Logger Metadata</h3>
<p>An Excel table can be used to store information about the logger, e.g.&nbsp;to which site it was deployed, at what depth, and when it was deployed and retrieved. <a href="logger_info_example.xlsx">Here</a> is an example for such a table. This file contains two tabs: <code>active</code> for the loggers that are currently deployed and <code>retrieved</code> for the loggers that were already retrieved. Necessary columns are</p>
<ul>
<li><p><code>filename</code>: The file name of the <code>.csv</code> file. I add the date of the retrieval before the label that was set in HOBOware, e.g.&nbsp;<code>2023_06_01_Site1_Depth2.csv</code>.</p></li>
<li><p><code>deployed</code>: Date and time of the deployment of the logger. In Excel, use “Custom” format with type <code>TT.MM.JJ hh:mm</code>.</p></li>
<li><p><code>retrieved</code>: Date and time of the retrieval of the logger. The cell format should be as for <code>deployed</code>.</p></li>
</ul>
<p>The other information is optional but adding the site name, depth, battery state, logged parameters, logging interval, etc. will help to keep track of the loggers. Additionally, I use the logger serial number (column <code>SN</code>) as an ID.</p>
<p>I store this Excel file in the RStudio project folder under <code>/data</code>.</p>
</section>
</section>
<section id="install-package" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="install-package"><span class="header-section-number">3</span> Install Package</h2>
<p>This can be done with the <code>install_github()</code> function of the <code>devtools</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"andieich/Logger"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, the package can be loaded:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Logger)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use-package" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="use-package"><span class="header-section-number">4</span> Use Package</h2>
<section id="summary" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.1</span> Summary</h3>
<p>In short, the logger metadata from the Excel file is used to import all logger <code>.csv</code> files, filter the data by the time of deployment and retrieval and adds the additional metadata, e.g.&nbsp;site name, depth, etc. All imported files will be combined to a <code>data.frame</code> in the “long” format so it can be easily used with e.g.&nbsp;<code>ggplot()</code>. Finally, some ways to visualize and summarize the data are shown.</p>
</section>
<section id="load-packages" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="load-packages"><span class="header-section-number">4.2</span> Load packages</h3>
<p>These packages will be used in this example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># for dplyr, ggplot, magrittr, etc.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)  <span class="co"># to facilitate date formatting</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)       <span class="co"># for relative file paths</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-logger-metadata" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="read-logger-metadata"><span class="header-section-number">4.3</span> Read Logger Metadata</h3>
<p>The Excel file containing information on the deployment and retrieval times of the logger has to be imported to R. To do so, <code>read_loggerinfo()</code> can be used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>loggerinfo <span class="ot">&lt;-</span> <span class="fu">read_loggerinfo</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/logger_info.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">SN</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">site</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">habitat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">replicate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Batt%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BattV</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">intervall (h)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">parameters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">started</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">memory full</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name/label</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">deployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">spot</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">retrieved</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">battery end</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ok</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">filename</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">redeployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">21086840</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">E2B</td>
<td style="text-align: left;">deep</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: right;">3.06</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-01 10:53:00</td>
<td style="text-align: left;">2026-06-17 22:53:00</td>
<td style="text-align: left;">E2B_deep_1</td>
<td style="text-align: left;">2023-03-01 15:30:00</td>
<td style="text-align: left;">2A</td>
<td style="text-align: left;">2023-06-16 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_16_E2B_deep_1.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">21086844</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">E2B</td>
<td style="text-align: left;">shallow</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">3.08</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-16 12:53:00</td>
<td style="text-align: left;">2026-07-03 00:53:00</td>
<td style="text-align: left;">E2B_shallow_2</td>
<td style="text-align: left;">2023-03-16 17:30:00</td>
<td style="text-align: left;">rebar 2</td>
<td style="text-align: left;">2023-06-16 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_16_E2B_shallow_2.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21103103</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">Temae</td>
<td style="text-align: left;">deep</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">0.9</td>
<td style="text-align: right;">3.01</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-08 08:41:00</td>
<td style="text-align: left;">2026-06-24 20:41:00</td>
<td style="text-align: left;">Temae_deep_1</td>
<td style="text-align: left;">2023-03-08 15:30:00</td>
<td style="text-align: left;">2A</td>
<td style="text-align: left;">2023-06-19 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_19_Temae_deep_1.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The data of all loggers in this table will be imported and merged in the next step. If you want, you can therefore filter <code>loggerinfo</code>, e.g.&nbsp;by site</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>loggerinfo_sel1 <span class="ot">&lt;-</span> loggerinfo <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(site <span class="sc">==</span> <span class="st">"E2B"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">SN</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">site</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">habitat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">replicate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Batt%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BattV</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">intervall (h)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">parameters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">started</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">memory full</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name/label</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">deployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">spot</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">retrieved</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">battery end</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ok</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">filename</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">redeployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">21086840</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">E2B</td>
<td style="text-align: left;">deep</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: right;">3.06</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-01 10:53:00</td>
<td style="text-align: left;">2026-06-17 22:53:00</td>
<td style="text-align: left;">E2B_deep_1</td>
<td style="text-align: left;">2023-03-01 15:30:00</td>
<td style="text-align: left;">2A</td>
<td style="text-align: left;">2023-06-16 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_16_E2B_deep_1.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">21086844</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">E2B</td>
<td style="text-align: left;">shallow</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">3.08</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-16 12:53:00</td>
<td style="text-align: left;">2026-07-03 00:53:00</td>
<td style="text-align: left;">E2B_shallow_2</td>
<td style="text-align: left;">2023-03-16 17:30:00</td>
<td style="text-align: left;">rebar 2</td>
<td style="text-align: left;">2023-06-16 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_16_E2B_shallow_2.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>or by the deployment time:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>loggerinfo_sel2 <span class="ot">&lt;-</span> loggerinfo <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(deployed <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">as_date</span>(<span class="st">"2023-03-08"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">SN</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">site</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">habitat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">replicate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Batt%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BattV</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">intervall (h)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">parameters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">started</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">memory full</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name/label</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">deployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">spot</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">retrieved</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">battery end</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ok</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">filename</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">redeployed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">21086844</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">E2B</td>
<td style="text-align: left;">shallow</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">3.08</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-16 12:53:00</td>
<td style="text-align: left;">2026-07-03 00:53:00</td>
<td style="text-align: left;">E2B_shallow_2</td>
<td style="text-align: left;">2023-03-16 17:30:00</td>
<td style="text-align: left;">rebar 2</td>
<td style="text-align: left;">2023-06-16 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_16_E2B_shallow_2.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">21103103</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">Temae</td>
<td style="text-align: left;">deep</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">0.9</td>
<td style="text-align: right;">3.01</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-08 08:41:00</td>
<td style="text-align: left;">2026-06-24 20:41:00</td>
<td style="text-align: left;">Temae_deep_1</td>
<td style="text-align: left;">2023-03-08 15:30:00</td>
<td style="text-align: left;">2A</td>
<td style="text-align: left;">2023-06-19 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_19_Temae_deep_1.csv</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21236989</td>
<td style="text-align: left;">Pendant</td>
<td style="text-align: left;">Temae</td>
<td style="text-align: left;">deep</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">3.12</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">L, T</td>
<td style="text-align: left;">2023-03-08 08:42:00</td>
<td style="text-align: left;">2026-06-24 20:42:00</td>
<td style="text-align: left;">Temae_deep_2</td>
<td style="text-align: left;">2023-03-08 15:30:00</td>
<td style="text-align: left;">2A</td>
<td style="text-align: left;">2023-06-19 08:00:00</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">2023_06_19_Temae_deep_2.csv</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="import-logger-.csv-files" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="import-logger-.csv-files"><span class="header-section-number">4.4</span> Import logger <code>.csv</code> files</h3>
<p>Now, the actual data can be imported. To do so, <code>loggerinfo</code>, that was just imported, has to be provided to the <code>read_loggerfiles()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_loggerfiles</span>(loggerinfo, <span class="at">check_SN =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function</p>
<p>If you did not use the serial number (SN) in <code>loggerinfo</code> or do not want to chack the SN provided in <code>loggerinfo</code> against the SN stored in the logger <code>.csv</code> file, set <code>check_SN</code> to <code>FALSE</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_loggerfiles</span>(loggerinfo, <span class="at">check_SN =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If your logger <code>.csv</code> files are not stored in <code>/data/raw_csv</code>, you have to specify the folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_loggerfiles</span>(loggerinfo, <span class="at">folder =</span> <span class="st">"your_folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-By Andreas Eich, 2023</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is build with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>